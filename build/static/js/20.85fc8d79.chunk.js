(this["webpackJsonpinterview-manager-system"]=this["webpackJsonpinterview-manager-system"]||[]).push([[20],{316:function(e,t,n){"use strict";var a=n(14),i=n(0),r=n.n(i),o=n(378),c=n(290),s=n(1),d=r.a.forwardRef((function(e,t){var n,i,r,d,l=e.children,u=e.type,p=e.direction,j=e.offset,b=e.scale;switch(p){case"up":case"left":r=j,d=0;break;default:r=0,d=j}var h=Object(o.a)(r,d),x=Object(a.a)(h,2),O=x[0],g=x[1],m=Object(o.a)(r,d),f=Object(a.a)(m,2),v=f[0],y=f[1];switch(u){case"rotate":return Object(s.jsx)(c.a.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:l});case"slide":return"up"===p||"down"===p?Object(s.jsx)(c.a.div,{ref:t,animate:{y:void 0!==v?v:""},onHoverEnd:function(){return y()},onHoverStart:function(){return y()},children:l}):Object(s.jsx)(c.a.div,{ref:t,animate:{x:void 0!==O?O:""},onHoverEnd:function(){return g()},onHoverStart:function(){return g()},children:l});default:return"number"===typeof b&&(b={hover:b,tap:b}),Object(s.jsx)(c.a.div,{ref:t,whileHover:{scale:null===(n=b)||void 0===n?void 0:n.hover},whileTap:{scale:null===(i=b)||void 0===i?void 0:i.tap},children:l})}}));d.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},t.a=d},588:function(e,t,n){"use strict";n.r(t);var a=n(8),i=n(14),r=n(273),o=n(283),c=n(301),s=n(76),d=n(0),l=n.n(d),u=n(171),p=n(20),j=n(124),b=n(16),h=n(6),x=n.n(h),O=n(317),g=n(30),m=n(113),f=n.n(m),v=n(278),y=n(607),w=n(598),k=n(613),P=n(610),_=n(26),q=n(318),C=n(600),I=n(316),S=n(18),T=n(82),B=n(587),A=n(1),R=Object(B.a)({root:{position:"relative",width:"100%",margin:"2em 0",padding:"1em",border:"solid 1px",borderColor:"#bdbdbd",borderRadius:"4px"},legend:{zIndex:1,position:"absolute",width:"fit-content",height:"24px",background:"white",padding:"0.25em 0.5em",left:"10px",transform:"translate(0, -125%)"}}),W=function(e){var t=e.children,n=e.legend,a=R();return Object(A.jsxs)(r.a,{className:a.root,children:[n&&Object(A.jsx)(T.a,{variant:"h4",component:"h4",className:a.legend,children:n}),t]})},E=n(7),G=n(128),L=n(132),H=n(23),N=n(136),Q=Object(H.b)("applicantReferences/getQuestionsThunk",function(){var e=Object(b.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.getQuestionsThunk(t.language_id,t.rank_id);case 2:return n=e.sent,e.abrupt("return",n&&Object(E.a)(Object(N.h)(n.success)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=Object(H.b)("applicant/getInterviewQuestionThunk",function(){var e=Object(b.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.getInterviewQuestionThunk({data:t.applyPosition});case 2:return a=e.sent,e.abrupt("return",a&&Object(E.a)(Object(N.g)({applicant:t,questions:a.success})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),D=[{label:"Information",render:[{key:"name",label:"Full Name",type:"text",required:!0},{key:"age",label:"Age",type:"number",required:!0},{key:"phone",label:"Phone Number",type:"tel",required:!0}]},{label:"Contact",render:[{key:"email",label:"Email",type:"email",required:!0}]},{label:"Address",render:[{key:"address",label:"Address",type:"text",required:!0}]},{label:"Interview Time",render:[{key:"time",label:"Interview Time",type:"datetime-local",required:!0}]},{label:"Note",render:[{key:"note",label:"Note",type:"text"}]}],M=n(601),z=n(608),V=function(e){var t=e.errors,n=e.handleBlur,a=e.handleChange,i=e.touched,r=e.values,o=e.label,c=e.required,s=e.type,d=e.name;return Object(A.jsxs)(y.a,{fullWidth:!0,error:Boolean(i&&t),children:[Object(A.jsx)(M.a,{htmlFor:"outlined-adornment-".concat(o.split(" ").join("-")),required:c,children:o}),Object(A.jsx)(z.a,{id:"outlined-adornment-".concat(o.split(" ").join("-")),type:s,value:r,name:d,onBlur:n,onChange:a,label:o,inputProps:{}}),i&&t&&Object(A.jsx)(P.a,{error:!0,id:"standard-weight-helper-text-last-name",children:t})]})},J=l.a.memo(V),U={name:"",age:"",email:"denvl585@gmail.com",phone:"",address:"",time:"".concat((new Date).toISOString().split("T")[0],"T09:00"),note:"",applyPosition:[{rank_advanced_id:"",language_id:"",rank_id:""}]},Y=function(){var e=Object(u.a)(),t=Object(g.a)(),n=Object(E.d)(),i=Object(v.a)(t.breakpoints.down("md")),s=Object(E.e)((function(e){return e.language})).language,l=Object(E.e)((function(e){return e.rank})).ranks;return d.useEffect((function(){f.a.all([S.a.get("/v1/languages/all"),S.a.get("/v1/ranks/all")]).then((function(e){n(Object(L.e)({data:e[0].data.success})),n(Object(G.g)({data:e[1].data.success}))}))}),[n]),Object(A.jsx)(r.a,{children:Object(A.jsx)(O.a,{initialValues:U,validationSchema:q.c().shape({name:q.d().required("First name is required"),age:q.b().required("Age is required"),email:q.d().email("Email is invalid").required("Email is required"),phone:q.d().required("Phone is required"),address:q.d().required("Address is required"),applyPosition:q.a().of(q.c().shape({language_id:q.d().required("Position is required"),rank_id:q.d().required("Level is required")}))}),onSubmit:function(){var e=Object(b.a)(x.a.mark((function e(t,a){var i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=a.setSubmitting)(!0),e.next=4,n(F(t));case 4:i(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(t){var n=t.errors,d=t.handleBlur,u=t.handleChange,p=t.handleSubmit,j=t.setFieldValue,b=t.isSubmitting,h=t.touched,x=t.values;return Object(A.jsxs)("form",{noValidate:!0,onSubmit:p,children:[D.map((function(e){var t=e.render;return Object(A.jsx)(o.a,{direction:i?"column":"row",spacing:2,sx:{paddingBottom:2},children:t.map((function(t){var a=t.key,i=t.label,r=t.type,o=t.required;return Object(A.jsx)(J,{touched:h[a],errors:n[a],label:i,type:r,values:x[a],name:a,handleBlur:d,handleChange:u,required:o},"".concat(e.label,"-").concat(i))}))},e.label)})),Object(A.jsx)(W,{legend:e.formatMessage({id:"apply-positions"}),children:Object(A.jsxs)(r.a,{children:[x.applyPosition.map((function(e,t){return Object(A.jsxs)(o.a,{direction:"row",alignItems:"center",spacing:2,sx:{padding:"1em 0"},children:[Object(A.jsxs)(o.a,{direction:i?"column":"row",spacing:2,sx:{flexGrow:1},children:[Object(A.jsxs)(y.a,{fullWidth:!0,error:Boolean(h.applyPosition&&n.applyPosition),children:[Object(A.jsx)(w.a,{options:s,onChange:function(e,n){j("applyPosition[".concat(t,"].language_id"),n&&n.id||"")},value:s.find((function(t){return t.id==e.language_id})),getOptionLabel:function(e){return e.name||""},renderInput:function(e){return Object(A.jsx)(k.a,Object(a.a)(Object(a.a)({},e),{},{variant:"standard",label:"Apply Position",placeholder:"Position"}))},sx:{flexGrow:1}}),h.applyPosition&&n.applyPosition&&Object(A.jsx)(P.a,{error:!0,id:"standard-weight-helper-text-last-name",children:n.applyPosition[t]&&n.applyPosition[t].language_id})]}),Object(A.jsxs)(y.a,{fullWidth:!0,error:Boolean(h.applyPosition&&n.applyPosition),children:[Object(A.jsx)(w.a,{options:l,onChange:function(e,n){j("applyPosition[".concat(t,"].rank_id"),n&&n.id||"")},value:l.find((function(t){return t.id==e.rank_id})),getOptionLabel:function(e){return e.name||""},renderInput:function(e){return Object(A.jsx)(k.a,Object(a.a)(Object(a.a)({},e),{},{variant:"standard",label:"Rank",placeholder:"Rank"}))},sx:{flexGrow:1}}),h.applyPosition&&n.applyPosition&&Object(A.jsx)(P.a,{error:!0,id:"standard-weight-helper-text-last-name",children:n.applyPosition[t]&&n.applyPosition[t].rank_id})]}),Object(A.jsxs)(y.a,{fullWidth:!0,error:Boolean(h.applyPosition&&n.applyPosition),children:[Object(A.jsx)(w.a,{options:l,onChange:function(e,n){j("applyPosition[".concat(t,"].rank_advanced_id"),n&&n.id||"")},value:l.find((function(t){return t.id==e.rank_advanced_id})),getOptionLabel:function(e){return e.name||""},renderInput:function(e){return Object(A.jsx)(k.a,Object(a.a)(Object(a.a)({},e),{},{variant:"standard",label:"Rank Advanced",placeholder:"Rank Advanced"}))},sx:{flexGrow:1}}),h.applyPosition&&n.applyPosition&&Object(A.jsx)(P.a,{error:!0,id:"standard-weight-helper-text-last-name",children:n.applyPosition[t]&&n.applyPosition[t].rank_advanced_id})]})]}),Object(A.jsx)(c.a,{variant:"outlined",color:"error",onClick:function(){j("applyPosition",x.applyPosition.filter((function(t){return t.language_id!==e.language_id})))},sx:{borderRadius:9999,width:"28px",height:"28px",padding:"3px",minWidth:"auto"},children:Object(A.jsx)(_.p,{})})]},Object(C.a)())})),Object(A.jsx)(o.a,{direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:Object(A.jsx)(c.a,{variant:"outlined",onClick:function(){j("applyPosition",x.applyPosition.concat({rank_advanced_id:"",language_id:"",rank_id:""}))},sx:{marginTop:2},children:"+ Add more position"})})]})}),Object(A.jsx)(r.a,{sx:{mt:2,width:{md:"fit-content",sm:"100%"}},children:Object(A.jsx)(I.a,{children:Object(A.jsx)(c.a,{disableElevation:!0,disabled:b,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",sx:{marginTop:4},children:"Get Interview Question"})})})]})}})})},K=n(237),X=n(338),Z=n(426),$=n.n(Z),ee=n(302),te=n(597),ne=n(609),ae=Object(B.a)({itemHovered:{cursor:"pointer",transition:"0.3s","&:hover":{backgroundColor:"#c6f9ff"},"&:hover button":{transition:"0.7s",transform:"translate(-5px, 0)"}}}),ie=function(e){var t=e.value,n=e.interviewing,a=void 0!==n&&n,r=e.type,s=e.onDeleteTag,d=e.onAddTag,u=ae(),p=l.a.useState(!1),j=Object(i.a)(p,2),b=j[0],h=j[1];Object(E.d)();return Object(A.jsx)(ee.a,{className:u.itemHovered,variant:"outlined",sx:{padding:"1em"},children:Object(A.jsxs)(o.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(A.jsx)(T.a,{variant:"body1",component:"span",sx:{flexGrow:1},children:t.question_content}),s&&Object(A.jsx)(c.a,{color:"error",sx:{width:"24px",height:"24px",padding:0,minWidth:"auto",borderRadius:99},onClick:function(){s(r,t.id||-1)},children:Object(A.jsx)(_.p,{height:22})}),d&&Object(A.jsx)(X.a,{sx:{width:"28px",height:"28px",minHeight:"auto",minWidth:"28px",padding:0},color:"primary","aria-label":"add",onClick:function(){d(r,"reactjs",t)},children:Object(A.jsx)($.a,{height:22})}),a&&Object(A.jsxs)(o.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(A.jsx)(y.a,{variant:"standard",sx:{m:1,minWidth:100,height:30},children:Object(A.jsxs)(te.a,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",label:"Evaluate",value:t.answerScore||"",onChange:function(e){},children:[Object(A.jsx)(ne.a,{value:"",children:Object(A.jsx)("em",{children:"Do not enter"})}),Object(A.jsx)(ne.a,{value:"bad",children:"Bad"}),Object(A.jsx)(ne.a,{value:"good",children:"Good"}),Object(A.jsx)(ne.a,{value:"excellent",children:"Excellent"})]})}),Object(A.jsx)(c.a,{color:"success",sx:{width:"24px",height:"24px",padding:0,minWidth:"auto",borderRadius:99},onClick:function(){h(!b)},children:Object(A.jsx)(_.f,{height:22})})]})]})})},re=l.a.memo(ie),oe=function(e){var t=e.questionStack,n=e.interviewing,a=e.stackType,i=e.onClickAddButton,c=e.onClickDeleteButton,s=Object(E.d)();return Object(A.jsxs)(r.a,{children:[Object(A.jsxs)(o.a,{direction:"row",marginBottom:2,children:[Object(A.jsx)(T.a,{variant:"h4",component:"h4",sx:{flexGrow:1},children:null===a||void 0===a?void 0:a.toUpperCase()}),i&&Object(A.jsx)(X.a,{sx:{width:"30px",height:"30px",minHeight:"auto",minWidth:"auto",padding:0},color:"primary","aria-label":"add",onClick:function(){i(a),s(Object(N.f)())},children:Object(A.jsx)($.a,{})})]}),Object(A.jsx)(o.a,{direction:"column",spacing:2,children:t.map((function(e,t){return Object(A.jsx)(re,{value:e,type:a,onDeleteTag:c,interviewing:n},t)}))})]})},ce=l.a.memo(oe),se=n(297),de={position:"absolute",top:"5vh",left:"50%",transform:"translate(-50%)",minWidth:280,width:"80vw",height:"90vh",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overFlow:"hidden"},le=function(e){var t=e.open,n=e.onModalClose,i=e.modalTitle,r=e.children;return Object(A.jsx)(se.a,{open:t,onClose:n,children:Object(A.jsx)(j.a,{title:i&&i,sx:Object(a.a)({},de),children:r})})},ue=function(e){var t=e.questionList,n=e.type,r=Object(d.useState)(!1),c=Object(i.a)(r,2),s=c[0],l=c[1],u=Object(d.useState)("basic"),p=Object(i.a)(u,2),j=p[0],b=(p[1],Object(E.e)((function(e){return e.applicant})).questions),h=Object(E.e)((function(e){return e.language})).language,x=Object(E.e)((function(e){return e.rank})).ranks,O=Object(d.useState)({rank_id:0,language_id:0}),g=Object(i.a)(O,2),m=g[0],f=g[1],v=Object(E.d)();return Object(d.useEffect)((function(){var e,t;m.language_id&&m.rank_id&&(e=m.language_id,t=m.rank_id,v(Q({language_id:e,rank_id:t})))}),[m]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(o.a,{direction:"column",spacing:2,sx:{border:"solid 1px #e9e9e9",borderRadius:5,padding:2},children:[Object(A.jsx)(T.a,{variant:"h3",component:"h3",sx:{flexGrow:1,marginBottom:1},children:n.toUpperCase()}),Object.keys(t.questions).map((function(e){return Object(A.jsx)(ce,{stackType:e,questionStack:t.questions[e]},e)}))]}),Object(A.jsxs)(le,{open:s,onModalClose:function(){l(!1)},modalTitle:"Add Questions",children:[Object(A.jsxs)(o.a,{direction:"row",alignItems:"center",spacing:2,sx:{padding:"1em 0"},children:[Object(A.jsx)(w.a,{options:h,getOptionLabel:function(e){return e.name||""},onChange:function(e,t){return f(Object(a.a)(Object(a.a)({},m),{},{language_id:t&&Number(t.id)||-1}))},renderInput:function(e){return Object(A.jsx)(k.a,Object(a.a)(Object(a.a)({},e),{},{variant:"standard",label:"Language",placeholder:"Language"}))},sx:{flexGrow:1}}),Object(A.jsx)(w.a,{options:x,onChange:function(e,t){return f(Object(a.a)(Object(a.a)({},m),{},{rank_id:t&&Number(t.id)||-1}))},getOptionLabel:function(e){return e.name||""},renderInput:function(e){return Object(A.jsx)(k.a,Object(a.a)(Object(a.a)({},e),{},{variant:"standard",label:"Rank",placeholder:"Rank"}))},sx:{flexGrow:1}})]}),Object(A.jsx)(K.a,{}),Object(A.jsx)(o.a,{direction:"column",spacing:1,sx:{padding:"1em 0",overflowY:"auto",marginBottom:2,height:"calc(90vh - 200px)"},children:b&&b.map((function(e,t){return Object(A.jsx)(re,{type:j,value:e},t)}))})]})]})},pe=n(46),je=n(79);t.default=function(){var e=Object(s.b)(),t=Object(E.e)((function(e){return e.applicant})),n=Object(u.a)(),l=(Object(p.e)(),Object(d.useState)(!1)),b=Object(i.a)(l,2),h=b[0],x=b[1];Object(d.useEffect)((function(){e(Object(pe.a)(["applicant"])),e(Object(N.c)())}),[e]);return Object(A.jsxs)(r.a,{children:[Object(A.jsx)(j.a,{title:n.formatMessage({id:"applicant-reference-form"}),children:Object(A.jsx)(Y,{})}),t.interviewQuestions.length>0&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{title:n.formatMessage({id:"interview-questions"}),sx:{margin:"1em 0"},children:Object(A.jsx)(o.a,{direction:"column",spacing:2,children:t.interviewQuestions.map((function(e,t){return Object(A.jsx)(ue,{questionList:e,type:e.type},t)}))})}),Object(A.jsx)(j.a,{sx:{margin:"1em 0"},children:Object(A.jsx)(I.a,{children:Object(A.jsx)(c.a,{disableElevation:!0,disabled:h,onClick:function(){var e=Object(a.a)({},t.applicantInfo);delete e.applyPosition,e.status=0,x(!0),Object(je.b)("".concat("https://api.bims.beetsoft.com.vn/api","/v1/client/candidates"),e,"Add applicant success",(function(){return x(!1)}))},fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Submit"})})})]})]})}}}]);
//# sourceMappingURL=20.85fc8d79.chunk.js.map